(this.webpackJsonpdisaster_message=this.webpackJsonpdisaster_message||[]).push([[0],{160:function(e,t,a){e.exports=a(284)},283:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),l=a(67),s=a(41),m=a(286),i=a(293),u=a(296),p=m.a.Title,d=m.a.Paragraph,g=function(){return r.a.createElement(m.a,null,r.a.createElement("a",{href:"https://github.com/JaeSeoKim/mask-map/"},r.a.createElement(p,null,"mask-map")),r.a.createElement(d,null,"\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ud55c\uad6d \uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 `\uac74\uac15\ubcf4\ud5d8\uc2ec\uc0ac\ud3c9\uac00\uc6d0_\uacf5\uc801 \ub9c8\uc2a4\ud06c \ud310\ub9e4 \uc815\ubcf4 API` \ub97c \uc774\uc6a9\ud558\uc5ec \uc81c\uc791 \ud558\uc600\uc2b5\ub2c8\ub2e4."),r.a.createElement("a",{href:"https://github.com/JaeSeoKim"},r.a.createElement(p,{level:4},r.a.createElement(i.a,null)," Github")),r.a.createElement("a",{href:"https://jaeseokim.tistory.com/"},r.a.createElement(p,{level:4},r.a.createElement(u.a,null)," Blog")),r.a.createElement(p,{level:4},"Copyright 2020. \uae40\uc7ac\uc11c. All rights reserved."))},k=function(){return r.a.createElement("h1",null,"404 Error")},f=a(291),h=a(288),v=a(292),E=a(295),b=a(294),M=function(){return r.a.createElement(f.a,{style:{marginBottom:10}},r.a.createElement("div",null,r.a.createElement(h.a,{defaultSelectedKeys:["maskMap"],defaultOpenKeys:["menu"],mode:"horizontal",theme:"white"},r.a.createElement(h.a.Item,{key:"maskMap"},r.a.createElement(v.a,null),r.a.createElement(l.b,{to:"/"},r.a.createElement("span",null,"\ub9c8\uc2a4\ud06c\ub9f5"))),r.a.createElement(h.a.Item,{key:"disasterMsg"},r.a.createElement(E.a,null),r.a.createElement("a",{href:"http://msg.devjs.cf/"},r.a.createElement("span",null,"\uc7ac\ub09c\ubb38\uc790 \ubaa9\ub85d"))),r.a.createElement(h.a.Item,{key:"about"},r.a.createElement(b.a,null),r.a.createElement(l.b,{to:"/about"},r.a.createElement("span",null,"About"))))))},y=a(15),w=a(33),L=a(81),O=Object(L.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maskMap:{map:null,storeList:[],oldMarker:[],oldOverlay:[]}},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"setMap":return Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{map:t.map})});case"setStoreList":return Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{storeList:t.storeList})});case"addMarker":return console.log("adding... :",t),Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{oldMarker:t.marker,oldOverlay:t.overlay})});default:return e}})),j=function(e){return{type:"setStoreList",storeList:e}},x=function(e){return{type:"setMap",map:e}},_=function(e,t){return{type:"addMarker",marker:e,overlay:t}},A=O,I=a(42),S=a.n(I),K=a(68),J=a(157),T=a(69),B=a.n(T),G=function(){var e=Object(y.b)(),t=Object(n.useState)({address:"",count:0,stores:[{addr:"",code:"",created_at:"",lat:0,lng:0,name:"",remain_stat:"",stock_at:"",type:""}]}),a=Object(J.a)(t,2),r=a[0],o=a[1],c=function(){var e=Object(K.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("location: ",t),e.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json?address=".concat(t)).then((function(e){var t=e.data,a=t.address,n=t.count,r=t.stores;console.log(e),o({address:a,count:n,stores:r}),console.log(r)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var t=Object(K.a)(S.a.mark((function t(a,n,r){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("lat: ",a," lng: ",n," m: ",r),t.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=".concat(a,"&lng=").concat(n,"&m=").concat(r)).then((function(t){var a=t.data.stores;e(j(a)),console.log(a.length)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}();return Object(w.a)({},r,{getMaskDataAddr:c,getMaskDataGeo:l})},P=window.kakao,C=function(){var e=Object(y.b)();return Object(n.useEffect)((function(){var t=document.getElementById("mask-map"),a={center:new P.maps.LatLng(33.450701,126.570667),level:3},n=new P.maps.Map(t,a);e(x(n),[n])}),[]),r.a.createElement("div",{id:"mask-map",style:{height:"100%"}})},z=a(289),D=window.kakao,R=null,W=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}}),[]).map;return R=e,{getIpAddr:function(){var e=Object(K.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("https://ipapi.co/json").then((function(e){null!==R&&(R.panTo(new D.maps.LatLng(e.data.latitude,e.data.longitude)),z.a.info({content:"IP \uc704\uce58 \uc0ac\uc6a9(\uc624\ucc28 \ubc1c\uc0dd)",key:"IpInfo",duration:2}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},N=window.kakao,U={},q=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}}),[]).map,t=W().getIpAddr;U=e;return{getGeo:function(){navigator.geolocation?null!==U&&navigator.geolocation.getCurrentPosition((function(e){U.panTo(new N.maps.LatLng(e.coords.latitude,e.coords.longitude))}),(function(){return t()})):alert("\uc774 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c\ub294 Geolocation\uc774 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}}},F=window.kakao,H=[],Q={},V=[],X=[],Y=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map,storeList:e.maskMap.storeList,oldMarker:e.maskMap.oldMarker,oldOverlay:e.maskMap.oldOverlay}})),t=e.map,a=e.storeList,n=e.oldMarker,r=e.oldOverlay,o=Object(y.b)();H=a,Q=t,V=n,X=r;return{setMarker:function(){V.map((function(e){e.setMap(null)})),X.map((function(e){e.setMap(null)}));var e=[],t=[];H.map((function(a){var n="",r="",o="";switch(a.remain_stat){case"plenty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/green.png",r="100\uac1c \uc774\uc0c1",o="#87d068";break;case"some":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/blue.png",r="30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc",o="#2db7f5";break;case"few":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/red.png",r="30\uac1c \ubbf8\ub9cc",o="#f50";break;case"empty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/gray.png",r="1\uac1c \uc774\ud558",o="#A9A9A9";break;case"break":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="\ud310\ub9e4\uc911\uc9c0",o="#A9A9A9";break;default:return n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="ERROR",void(o="#A9A9A9")}var c='<div style="margin-bottom: 40px; width: 300px;">  <div class="ant-card ant-card-bordered ant-card-hoverable" style="font-size: 12px; border-radius: 5px;">    <div class="ant-card-head" style="padding: 10px;">      <div class="ant-card-head-wrapper" >        <div class="ant-card-head-title" style="font-size: 13px; padding: 0px;">'+"          ".concat(a.name)+'        </div>      </div>    </div>    <div class="ant-card-body" style="text-align: left; padding: 10px;">'+'      <a href="https://map.kakao.com/link/map/'.concat(a.name,",").concat(a.lat,",").concat(a.lng,'" target="_blank" >')+'       <p style="width:290px; white-space:normal; ">\uc8fc\uc18c: '.concat(a.addr,"</p>")+"      </a>"+"       <p>\uc0dd\uc131\uc2dc\uac04: ".concat(a.created_at,"</p>")+"       <p>\uc785\uace0\uc2dc\uac04: ".concat(a.stock_at,"</p>")+'       <span class="ant-tag ant-tag-has-color" style="background-color:'.concat(o,'">').concat(r,"</span>")+"   </div>  </div></div>",l=new F.maps.CustomOverlay({map:null,position:new F.maps.LatLng(a.lat,a.lng),content:c,yAnchor:1}),s=new F.maps.Size(30,35),m=new F.maps.MarkerImage(n,s),i=new F.maps.Marker({map:Q,position:new F.maps.LatLng(a.lat,a.lng),title:a.name,image:m});F.maps.event.addListener(i,"click",(function(){Q.panTo(i.getPosition()),l.setMap(Q)})),e.push(i),t.push(l)})),o(_(e,t)),console.log(e,t)}}},Z=window.kakao,$={},ee=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}})).map,t=G().getMaskDataGeo,a=Y().setMarker;$=e;return{setEvent:function(){Z.maps.event.addListener($,"dragend",(function(){var e=$.getCenter();t(e.getLat(),e.getLng(),1e4),console.log(e.getLat(),e.getLng()),a()}))}}},te=a(287),ae=a(285),ne=a(290),re=te.a.Panel,oe=window.kakao,ce=null,le=function(){var e=Object(y.c)((function(e){return{storeList:e.maskMap.storeList,map:e.maskMap.map}})),t=e.storeList,a=e.map;ce=a,t;return r.a.createElement("div",{className:"more_Info"},r.a.createElement(te.a,{style:{maxWidth:500,margin:"auto",marginBottom:13,marginTop:15}},r.a.createElement(re,{header:"\uc9c0\ub3c4\uc758 \uae30\uc900 \ud604\uc7ac \uad6c\ub9e4 \uac00\ub2a5\ud55c \ub9c8\uc2a4\ud06c \ud310\ub9e4\ucc98",key:"maskMap"},r.a.createElement("h3",{style:{textAlign:"left"}},r.a.createElement("p",null,"\uc9c0\ub3c4\uc758 \uc911\uc2ec \uae30\uc900 1KM \ubc18\uacbd\uc758 \ud310\ub9e4\ucc98\ub97c \uac00\uc9c0\uace0 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),r.a.createElement("p",null,"\ud604\uc7ac 1\uac1c \uc774\uc0c1 \uc7ac\uace0\ub97c \uc18c\uc720\ud55c \ud310\ub9e4\ucc98\ub9cc \ubaa9\ub85d\ud654 \ud588\uc2b5\ub2c8\ub2e4."),r.a.createElement("p",null,"\ud574\ub2f9 \uce74\ub4dc\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \uc9c0\ub3c4\uac00 \ud574\ub2f9 \ud310\ub9e4\ucc98\ub97c \uac00\ub9ac\ud0a4\uac8c \ub429\ub2c8\ub2e4!")),t.map((function(e,t){return"undefined"!==typeof e.remain_stat&&""!==e.remain_stat&&null!==e.remain_stat&&"break"!==e.remain_stat&&"empty"!==e.remain_stat&&r.a.createElement("div",{key:e.code},r.a.createElement(ae.a,{hoverable:!0,onClick:function(){var t,a;t=e.lat,a=e.lng,ce.panTo(new oe.maps.LatLng(t,a)),function e(){console.log("scrollUp"),document.documentElement.scrollTop<1||(document.documentElement.scrollTop=document.documentElement.scrollTop-60,setTimeout((function(){e()}),1))}()},style:{maxWidth:500,margin:"auto",marginBottom:13},title:e.name},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("a",{href:"https://map.kakao.com/link/map/"+e.name+","+e.lat+","+e.lng,target:"_blank"},r.a.createElement("p",null,"\uc8fc\uc18c : ",e.addr)),r.a.createElement("p",null,"\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8 : ",e.created_at),r.a.createElement("p",null,"\uc785\uace0 \uc2dc\uac04 : ",e.stock_at),r.a.createElement("p",null,"plenty"===e.remain_stat&&r.a.createElement(ne.a,{color:"#87d068"},"100\uac1c \uc774\uc0c1"),"some"===e.remain_stat&&r.a.createElement(ne.a,{color:"#2db7f5"},"30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc"),"few"===e.remain_stat&&r.a.createElement(ne.a,{color:"#f50"},"30\uac1c \ubbf8\ub9cc")))))})))))},se=function(){var e=G().getMaskDataGeo,t=Y().setMarker,a=q().getGeo,o=ee().setEvent;W().getIpAddr;return Object(n.useEffect)((function(){e(37.4388,127.1396,1e4).then((function(){a(),t(),o()}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"\uacf5\uc801 \ub9c8\uc2a4\ud06c \uc9c0\ub3c4 \uc785\ub2c8\ub2e4."),r.a.createElement("h4",null,"\ud574\ub2f9 \ub9c8\ucee4\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),r.a.createElement("h4",null,"* \uc2e4\uc81c\uc815\ubcf4\uc640 5\ubd84\uc815\ub3c4\uc758 \uc2dc\uac04\ucc28\uc774\uac00 \uc788\uc2b5\ub2c8\ub2e4.")),r.a.createElement("div",{style:{height:"50vh",paddingLeft:"10px",paddingRight:"10px"}},r.a.createElement(C,null),r.a.createElement(le,null)))};var me=function(){return r.a.createElement(y.a,{store:A},r.a.createElement(l.a,null,r.a.createElement(M,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:se}),r.a.createElement(s.a,{path:"/about",exact:!0,component:g}),r.a.createElement(s.a,{component:k}))))};a(282),a(283);c.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.61010b6a.chunk.js.map