(this.webpackJsonpdisaster_message=this.webpackJsonpdisaster_message||[]).push([[0],{147:function(e,a,t){e.exports=t(255)},254:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(3),c=t.n(o),s=t(56),l=t(31),m=t(256),i=t(261),u=t(260),p=m.a.Title,d=m.a.Paragraph,g=function(){return r.a.createElement(m.a,null,r.a.createElement("a",{href:"https://github.com/JaeSeoKim/mask-map/"},r.a.createElement(p,null,"mask-map")),r.a.createElement(d,null,"\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ud55c\uad6d \uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 `\uac74\uac15\ubcf4\ud5d8\uc2ec\uc0ac\ud3c9\uac00\uc6d0_\uacf5\uc801 \ub9c8\uc2a4\ud06c \ud310\ub9e4 \uc815\ubcf4 API` \ub97c \uc774\uc6a9\ud558\uc5ec \uc81c\uc791 \ud558\uc600\uc2b5\ub2c8\ub2e4."),r.a.createElement("a",{href:"https://github.com/JaeSeoKim"},r.a.createElement(p,{level:4},r.a.createElement(i.a,null)," Github")),r.a.createElement("a",{href:"https://jaeseokim.tistory.com/"},r.a.createElement(p,{level:4},r.a.createElement(u.a,null)," Blog")),r.a.createElement(p,{level:4},"Copyright 2020. \uae40\uc7ac\uc11c. All rights reserved."))},k=function(){return r.a.createElement("h1",null,"404 Error")},h=t(259),f=t(257),v=t(264),b=t(262),E=t(263),M=function(){return r.a.createElement(h.a,{style:{marginBottom:10}},r.a.createElement("div",null,r.a.createElement(f.a,{defaultSelectedKeys:["maskMap"],defaultOpenKeys:["menu"],mode:"horizontal",theme:"white"},r.a.createElement(f.a.Item,{key:"maskMap"},r.a.createElement(v.a,null),r.a.createElement(s.b,{to:"/"},r.a.createElement("span",null,"\ub9c8\uc2a4\ud06c\ub9f5"))),r.a.createElement(f.a.Item,{key:"disasterMsg"},r.a.createElement(b.a,null),r.a.createElement("a",{href:"http://msg.devjs.cf/"},r.a.createElement("span",null,"\uc7ac\ub09c\ubb38\uc790 \ubaa9\ub85d"))),r.a.createElement(f.a.Item,{key:"about"},r.a.createElement(E.a,null),r.a.createElement(s.b,{to:"/about"},r.a.createElement("span",null,"About"))))))},w=t(7),y=t(24),O=t(72),j=Object(O.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maskMap:{map:null,storeList:[],oldMarker:[],oldOverlay:[]}},a=arguments.length>1?arguments[1]:void 0;switch(console.log(a),a.type){case"setMap":return Object(y.a)({},e,{maskMap:Object(y.a)({},e.maskMap,{map:a.map})});case"setStoreList":return Object(y.a)({},e,{maskMap:Object(y.a)({},e.maskMap,{storeList:a.storeList})});case"addMarker":return console.log("adding... :",a),Object(y.a)({},e,{maskMap:Object(y.a)({},e.maskMap,{oldMarker:a.marker,oldOverlay:a.overlay})});default:return e}})),L=function(e){return{type:"setStoreList",storeList:e}},x=function(e){return{type:"setMap",map:e}},A=function(e,a){return{type:"addMarker",marker:e,overlay:a}},I=j,S=t(32),J=t.n(S),K=t(57),_=t(145),G=t(58),B=t.n(G),P=function(){var e=Object(w.b)(),a=Object(n.useState)({address:"",count:0,stores:[{addr:"",code:"",created_at:"",lat:0,lng:0,name:"",remain_stat:"",stock_at:"",type:""}]}),t=Object(_.a)(a,2),r=t[0],o=t[1],c=function(){var e=Object(K.a)(J.a.mark((function e(a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("location: ",a),e.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json?address=".concat(a)).then((function(e){var a=e.data,t=a.address,n=a.count,r=a.stores;console.log(e),o({address:t,count:n,stores:r}),console.log(r)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),s=function(){var a=Object(K.a)(J.a.mark((function a(t,n,r){return J.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("lat: ",t," lng: ",n," m: ",r),a.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=".concat(t,"&lng=").concat(n,"&m=").concat(r)).then((function(a){var t=a.data.stores;e(L(t)),console.log(t.length)})).catch((function(e){console.log(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}();return Object(y.a)({},r,{getMaskDataAddr:c,getMaskDataGeo:s})},z=window.kakao,C=function(){var e=Object(w.b)();return Object(n.useEffect)((function(){var a=document.getElementById("mask-map"),t={center:new z.maps.LatLng(33.450701,126.570667),level:3},n=new z.maps.Map(a,t);e(x(n),[n])}),[]),r.a.createElement("div",{id:"mask-map",style:{height:"100%"}})},D=t(258),R=window.kakao,T=null,q=function(){var e=Object(w.c)((function(e){return{map:e.maskMap.map}}),[]).map;return T=e,{getIpAddr:function(){var e=Object(K.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("https://ipapi.co/json").then((function(e){null!==T&&(T.panTo(new R.maps.LatLng(e.data.latitude,e.data.longitude)),D.a.info({content:"IP \uc704\uce58 \uc0ac\uc6a9(\uc624\ucc28 \ubc1c\uc0dd)",key:"IpInfo",duration:2}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},F=window.kakao,H={},N=function(){var e=Object(w.c)((function(e){return{map:e.maskMap.map}}),[]).map,a=q().getIpAddr;H=e;return{getGeo:function(){navigator.geolocation?null!==H&&navigator.geolocation.getCurrentPosition((function(e){H.panTo(new F.maps.LatLng(e.coords.latitude,e.coords.longitude))}),(function(){return a()})):alert("\uc774 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c\ub294 Geolocation\uc774 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}}},Q=window.kakao,U=[],V={},W=[],X=[],Y=function(){var e=Object(w.c)((function(e){return{map:e.maskMap.map,storeList:e.maskMap.storeList,oldMarker:e.maskMap.oldMarker,oldOverlay:e.maskMap.oldOverlay}})),a=e.map,t=e.storeList,n=e.oldMarker,r=e.oldOverlay;console.log(n);var o=Object(w.b)();U=t,V=a,W=n,X=r;return{setMarker:function(){W.map((function(e){e.setMap(null)})),X.map((function(e){e.setMap(null)}));var e=[],a=[];U.map((function(t){var n="",r="",o="";switch(t.remain_stat){case"plenty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/green.png",r="100\uac1c \uc774\uc0c1",o="#87d068";break;case"some":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/blue.png",r="30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc",o="#2db7f5";break;case"few":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/red.png",r="30\uac1c \ubbf8\ub9cc",o="#f50";break;case"empty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/gray.png",r="1\uac1c \uc774\ud558",o="#A9A9A9";break;case"break":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="\ud310\ub9e4\uc911\uc9c0",o="#A9A9A9";break;default:return n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="ERROR",void(o="#A9A9A9")}var c='<div style="margin-bottom: 40px; width: 300px;">  <div class="ant-card ant-card-bordered ant-card-hoverable" style="font-size: 12px; border-radius: 5px;">    <div class="ant-card-head" style="padding: 10px;">      <div class="ant-card-head-wrapper" >        <div class="ant-card-head-title" style="font-size: 13px; padding: 0px;">'+"          ".concat(t.name)+'        </div>      </div>    </div>    <div class="ant-card-body" style="text-align: left; padding: 10px;">'+'      <a href="https://map.kakao.com/link/map/'.concat(t.name,",").concat(t.lat,",").concat(t.lng,'" target="_blank" >')+'       <p style="width:290px; white-space:normal; ">\uc8fc\uc18c: '.concat(t.addr,"</p>")+"      </a>"+"       <p>\uc0dd\uc131\uc2dc\uac04: ".concat(t.created_at,"</p>")+"       <p>\uc785\uace0\uc2dc\uac04: ".concat(t.stock_at,"</p>")+'       <span class="ant-tag ant-tag-has-color" style="background-color:'.concat(o,'">').concat(r,"</span>")+"   </div>  </div></div>",s=new Q.maps.CustomOverlay({map:null,position:new Q.maps.LatLng(t.lat,t.lng),content:c,yAnchor:1}),l=new Q.maps.Size(30,35),m=new Q.maps.MarkerImage(n,l),i=new Q.maps.Marker({map:V,position:new Q.maps.LatLng(t.lat,t.lng),title:t.name,image:m});Q.maps.event.addListener(i,"click",(function(){V.panTo(i.getPosition()),s.setMap(V)})),e.push(i),a.push(s)})),o(A(e,a)),console.log(e,a)}}},Z=window.kakao,$={},ee=function(){var e=Object(w.c)((function(e){return{map:e.maskMap.map}})).map,a=P().getMaskDataGeo,t=Y().setMarker;$=e;return{setEvent:function(){Z.maps.event.addListener($,"dragend",(function(){var e=$.getCenter();a(e.getLat(),e.getLng(),1e3),console.log(e.getLat(),e.getLng()),t()}))}}},ae=function(){var e=P().getMaskDataGeo,a=Y().setMarker,t=N().getGeo,o=ee().setEvent;q().getIpAddr;return Object(n.useEffect)((function(){e(37.4388,127.1396,1e4).then((function(){t(),a(),o()}))}),[]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"\uacf5\uc801 \ub9c8\uc2a4\ud06c \uc9c0\ub3c4 \uc785\ub2c8\ub2e4."),r.a.createElement("h4",null,"\ud574\ub2f9 \ub9c8\ucee4\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),r.a.createElement("h4",null,"* \uc2e4\uc81c\uc815\ubcf4\uc640 5\ubd84\uc815\ub3c4\uc758 \uc2dc\uac04\ucc28\uc774\uac00 \uc788\uc2b5\ub2c8\ub2e4.")),r.a.createElement("div",{style:{height:"75vh",paddingLeft:"10px",paddingRight:"10px"}},r.a.createElement(C,null)))};var te=function(){return r.a.createElement(w.a,{store:I},r.a.createElement(s.a,null,r.a.createElement(M,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:ae}),r.a.createElement(l.a,{path:"/about",exact:!0,component:g}),r.a.createElement(l.a,{component:k}))))};t(253),t(254);c.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[147,1,2]]]);
//# sourceMappingURL=main.dbc13060.chunk.js.map