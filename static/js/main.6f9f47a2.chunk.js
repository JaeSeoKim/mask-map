(this.webpackJsonpdisaster_message=this.webpackJsonpdisaster_message||[]).push([[0],{160:function(e,a,t){e.exports=t(284)},283:function(e,a,t){},284:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(4),c=t.n(o),l=t(67),s=t(41),m=t(286),i=t(293),u=t(296),p=m.a.Title,d=m.a.Paragraph,g=function(){return r.a.createElement(m.a,null,r.a.createElement("a",{href:"https://github.com/JaeSeoKim/mask-map/"},r.a.createElement(p,null,"mask-map")),r.a.createElement(d,null,"\uc774 \ud504\ub85c\uc81d\ud2b8\ub294 \ud55c\uad6d \uacf5\uacf5\ub370\uc774\ud130 \ud3ec\ud138\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 `\uac74\uac15\ubcf4\ud5d8\uc2ec\uc0ac\ud3c9\uac00\uc6d0_\uacf5\uc801 \ub9c8\uc2a4\ud06c \ud310\ub9e4 \uc815\ubcf4 API` \ub97c \uc774\uc6a9\ud558\uc5ec \uc81c\uc791 \ud558\uc600\uc2b5\ub2c8\ub2e4."),r.a.createElement("a",{href:"https://github.com/JaeSeoKim"},r.a.createElement(p,{level:4},r.a.createElement(i.a,null)," Github")),r.a.createElement("a",{href:"https://jaeseokim.tistory.com/"},r.a.createElement(p,{level:4},r.a.createElement(u.a,null)," Blog")),r.a.createElement(p,{level:4},"Copyright 2020. \uae40\uc7ac\uc11c. All rights reserved."))},k=function(){return r.a.createElement("h1",null,"404 Error")},f=t(291),h=t(288),v=t(292),E=t(294),b=t(295),M=function(){return r.a.createElement(f.a,{style:{marginBottom:10}},r.a.createElement("div",null,r.a.createElement(h.a,{defaultSelectedKeys:["maskMap"],defaultOpenKeys:["menu"],mode:"horizontal",theme:"white"},r.a.createElement(h.a.Item,{key:"maskMap"},r.a.createElement(v.a,null),r.a.createElement(l.b,{to:"/"},r.a.createElement("span",null,"\ub9c8\uc2a4\ud06c\ub9f5"))),r.a.createElement(h.a.Item,{key:"disasterMsg"},r.a.createElement(E.a,null),r.a.createElement("a",{href:"http://msg.devjs.cf/"},r.a.createElement("span",null,"\uc7ac\ub09c\ubb38\uc790 \ubaa9\ub85d"))),r.a.createElement(h.a.Item,{key:"about"},r.a.createElement(b.a,null),r.a.createElement(l.b,{to:"/about"},r.a.createElement("span",null,"About"))))))},y=t(14),w=t(33),L=t(81),O=Object(L.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maskMap:{map:null,storeList:[],oldMarker:[],oldOverlay:[]}},a=arguments.length>1?arguments[1]:void 0;switch(console.log(a),a.type){case"setMap":return Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{map:a.map})});case"setStoreList":return Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{storeList:a.storeList})});case"addMarker":return console.log("adding... :",a),Object(w.a)({},e,{maskMap:Object(w.a)({},e.maskMap,{oldMarker:a.marker,oldOverlay:a.overlay})});default:return e}})),j=function(e){return{type:"setStoreList",storeList:e}},x=function(e){return{type:"setMap",map:e}},_=function(e,a){return{type:"addMarker",marker:e,overlay:a}},A=O,I=window.kakao,S=function(){var e=Object(y.b)();return Object(n.useEffect)((function(){var a=document.getElementById("mask-map"),t={center:new I.maps.LatLng(33.450701,126.570667),level:3},n=new I.maps.Map(a,t);e(x(n),[n])}),[]),r.a.createElement("div",{id:"mask-map",style:{height:"100%"}})},T=t(42),K=t.n(T),J=t(68),G=t(69),B=t.n(G),C=t(289),D=t(157),P=function(){var e=Object(y.b)(),a=Object(n.useState)({address:"",count:0,stores:[{addr:"",code:"",created_at:"",lat:0,lng:0,name:"",remain_stat:"",stock_at:"",type:""}]}),t=Object(D.a)(a,2),r=t[0],o=t[1],c=function(){var e=Object(J.a)(K.a.mark((function e(a){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("location: ",a),e.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json?address=".concat(a)).then((function(e){var a=e.data,t=a.address,n=a.count,r=a.stores;console.log(e),o({address:t,count:n,stores:r}),console.log(r)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),l=function(){var a=Object(J.a)(K.a.mark((function a(t,n,r){return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("lat: ",t," lng: ",n," m: ",r),a.next=3,B.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=".concat(t,"&lng=").concat(n,"&m=").concat(r)).then((function(a){var t=a.data.stores;e(j(t)),console.log(t.length)})).catch((function(e){console.log(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e,t,n){return a.apply(this,arguments)}}();return Object(w.a)({},r,{getMaskDataAddr:c,getMaskDataGeo:l})},z=window.kakao,R=[],W={},N=[],U=[],q=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map,storeList:e.maskMap.storeList,oldMarker:e.maskMap.oldMarker,oldOverlay:e.maskMap.oldOverlay}})),a=e.map,t=e.storeList,n=e.oldMarker,r=e.oldOverlay,o=Object(y.b)();R=t,W=a,N=n,U=r;return{setMarker:function(){N.map((function(e){e.setMap(null)})),U.map((function(e){e.setMap(null)}));var e=[],a=[];R.map((function(t){var n="",r="",o="";switch(t.remain_stat){case"plenty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/green.png",r="100\uac1c \uc774\uc0c1",o="#87d068";break;case"some":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/blue.png",r="30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc",o="#2db7f5";break;case"few":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/red.png",r="30\uac1c \ubbf8\ub9cc",o="#f50";break;case"empty":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/gray.png",r="1\uac1c \uc774\ud558",o="#A9A9A9";break;case"break":n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="\ud310\ub9e4\uc911\uc9c0",o="#A9A9A9";break;default:return n="https://raw.githubusercontent.com/JaeSeoKim/mask-map/master/resource/maskMapMarker/black.png",r="ERROR",void(o="#A9A9A9")}var c='<div style="margin-bottom: 40px; width: 300px;">  <div class="ant-card ant-card-bordered ant-card-hoverable" style="font-size: 12px; border-radius: 5px;">    <div class="ant-card-head" style="padding: 10px;">      <div class="ant-card-head-wrapper" >        <div class="ant-card-head-title" style="font-size: 13px; padding: 0px;">'+"          ".concat(t.name)+'        </div>      </div>    </div>    <div class="ant-card-body" style="text-align: left; padding: 10px;">'+'      <a href="https://map.kakao.com/link/map/'.concat(t.name,",").concat(t.lat,",").concat(t.lng,'" target="_blank" >')+'       <p style="width:290px; white-space:normal; ">\uc8fc\uc18c: '.concat(t.addr,"</p>")+"      </a>"+"       <p>\uc0dd\uc131\uc2dc\uac04: ".concat(t.created_at,"</p>")+"       <p>\uc785\uace0\uc2dc\uac04: ".concat(t.stock_at,"</p>")+'       <span class="ant-tag ant-tag-has-color" style="background-color:'.concat(o,'">').concat(r,"</span>")+"   </div>  </div></div>",l=new z.maps.CustomOverlay({map:null,position:new z.maps.LatLng(t.lat,t.lng),content:c,yAnchor:1}),s=new z.maps.Size(30,35),m=new z.maps.MarkerImage(n,s),i=new z.maps.Marker({map:W,position:new z.maps.LatLng(t.lat,t.lng),title:t.name,image:m});z.maps.event.addListener(i,"click",(function(){console.log(W.getLevel()),W.getLevel()>=3?(W.setLevel(3),W.panTo(new z.maps.LatLng(t.lat+.001,t.lng))):2===W.getLevel()?W.panTo(new z.maps.LatLng(t.lat+5e-4,t.lng)):W.panTo(new z.maps.LatLng(t.lat+3e-4,t.lng)),l.setMap(W)})),e.push(i),a.push(l)})),o(_(e,a)),console.log(e,a)}}},F=window.kakao,H=null,Q=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}}),[]).map;H=e;var a=P().getMaskDataGeo,t=q().setMarker;return{getIpAddr:function(){var e=Object(J.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("https://ipapi.co/json").then((function(e){null!==H&&(a(e.data.latitude,e.data.longitude,3e3).then((function(){t()})),H.panTo(new F.maps.LatLng(e.data.latitude,e.data.longitude)),C.a.info({content:"IP \uc704\uce58 \uc0ac\uc6a9(\uc624\ucc28 \ubc1c\uc0dd)",key:"IpInfo",duration:2}))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},V=window.kakao,X={},Y=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}}),[]).map,a=Q().getIpAddr,t=P().getMaskDataGeo,n=q().setMarker;X=e;return{getGeo:function(){navigator.geolocation?null!==X&&navigator.geolocation.getCurrentPosition((function(e){t(e.coords.latitude,e.coords.longitude,3e3).then((function(){n()})),X.panTo(new V.maps.LatLng(e.coords.latitude,e.coords.longitude))}),(function(){return a()})):alert("\uc774 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c\ub294 Geolocation\uc774 \uc9c0\uc6d0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}}},Z=window.kakao,$=null,ee=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}})).map,a=P().getMaskDataGeo,t=q().setMarker;$=e;return{setEvent:function(){null!==$&&Z.maps.event.addListener($,"dragend",(function(){var e=$.getCenter();a(e.getLat(),e.getLng(),3e3),t()}))}}},ae=t(287),te=t(285),ne=t(290),re=ae.a.Panel,oe=window.kakao,ce=null,le=function(){var e=Object(y.c)((function(e){return{storeList:e.maskMap.storeList,map:e.maskMap.map}})),a=e.storeList,t=e.map;ce=t,a;return r.a.createElement("div",{className:"more_Info"},r.a.createElement(ae.a,{style:{maxWidth:500,margin:"auto",marginBottom:13,marginTop:15}},r.a.createElement(re,{header:"\uc9c0\ub3c4\uc758 \uae30\uc900 \ud604\uc7ac \uad6c\ub9e4 \uac00\ub2a5\ud55c \ub9c8\uc2a4\ud06c \ud310\ub9e4\ucc98",key:"maskMap"},r.a.createElement("h3",{style:{textAlign:"left"}},r.a.createElement("p",null,"\uc9c0\ub3c4\uc758 \uc911\uc2ec \uae30\uc900 3KM \ubc18\uacbd\uc758 \ud310\ub9e4\ucc98\ub97c \uac00\uc9c0\uace0 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),r.a.createElement("p",null,"\ud604\uc7ac 1\uac1c \uc774\uc0c1 \uc7ac\uace0\ub97c \uc18c\uc720\ud55c \ud310\ub9e4\ucc98\ub9cc \ubaa9\ub85d\ud654 \ud588\uc2b5\ub2c8\ub2e4."),r.a.createElement("p",null,"\ud574\ub2f9 \uce74\ub4dc\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \uc9c0\ub3c4\uac00 \ud574\ub2f9 \ud310\ub9e4\ucc98\ub97c \uac00\ub9ac\ud0a4\uac8c \ub429\ub2c8\ub2e4!")),a.map((function(e,a){return"undefined"!==typeof e.remain_stat&&""!==e.remain_stat&&null!==e.remain_stat&&"break"!==e.remain_stat&&"empty"!==e.remain_stat&&r.a.createElement("div",{key:e.code},r.a.createElement(te.a,{hoverable:!0,onClick:function(){var a,t;a=e.lat,t=e.lng,ce.setLevel(4),ce.panTo(new oe.maps.LatLng(a,t)),function e(){console.log("scrollUp"),document.documentElement.scrollTop<1||(document.documentElement.scrollTop=document.documentElement.scrollTop-60,setTimeout((function(){e()}),1))}()},style:{maxWidth:500,margin:"auto",marginBottom:13},title:e.name},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("a",{href:"https://map.kakao.com/link/map/"+e.name+","+e.lat+","+e.lng,target:"_blank"},r.a.createElement("p",null,"\uc8fc\uc18c : ",e.addr)),r.a.createElement("p",null,"\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8 : ",e.created_at),r.a.createElement("p",null,"\uc785\uace0 \uc2dc\uac04 : ",e.stock_at),r.a.createElement("p",null,"plenty"===e.remain_stat&&r.a.createElement(ne.a,{color:"#87d068"},"100\uac1c \uc774\uc0c1"),"some"===e.remain_stat&&r.a.createElement(ne.a,{color:"#2db7f5"},"30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc"),"few"===e.remain_stat&&r.a.createElement(ne.a,{color:"#f50"},"30\uac1c \ubbf8\ub9cc")))))})))))},se=function(){var e=Object(y.c)((function(e){return{map:e.maskMap.map}}),[]).map,a=Y().getGeo,t=ee().setEvent;return Object(n.useEffect)((function(){a(),t()}),[e]),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,"\uacf5\uc801 \ub9c8\uc2a4\ud06c \uc9c0\ub3c4 \uc785\ub2c8\ub2e4."),r.a.createElement("h4",null,"\ud574\ub2f9 \ub9c8\ucee4\ub97c \ud074\ub9ad \ud558\uc2dc\uba74 \uc790\uc138\ud55c \uc815\ubcf4\ub97c \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),r.a.createElement("h4",null,"* \uc2e4\uc81c\uc815\ubcf4\uc640 5\ubd84\uc815\ub3c4\uc758 \uc2dc\uac04\ucc28\uc774\uac00 \uc788\uc2b5\ub2c8\ub2e4.")),r.a.createElement("div",{style:{height:"50vh",paddingLeft:"10px",paddingRight:"10px"}},r.a.createElement(S,null),r.a.createElement(le,null)))};var me=function(){return r.a.createElement(y.a,{store:A},r.a.createElement(l.a,null,r.a.createElement(M,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:se}),r.a.createElement(s.a,{path:"/about",exact:!0,component:g}),r.a.createElement(s.a,{component:k}))))};t(282),t(283);c.a.render(r.a.createElement(me,null),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.6f9f47a2.chunk.js.map